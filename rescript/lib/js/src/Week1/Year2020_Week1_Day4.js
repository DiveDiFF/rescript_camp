// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Fs = require("fs");
var Js_exn = require("rescript/lib/js/js_exn.js");
var Belt_Array = require("rescript/lib/js/belt_Array.js");

var input = Fs.readFileSync("input/Week1/Year2020Day4.sample.txt", "utf8");

var inputList = Belt_Array.map(input.split("\n\n"), (function (passport) {
        return Belt_Array.keepMap(Belt_Array.concatMany(Belt_Array.map(passport.split("\n"), (function (item) {
                              return item.split(" ");
                            }))), (function (item) {
                      var match = item.split(":");
                      if (match.length !== 2) {
                        return ;
                      }
                      var key = match[0];
                      var value = match[1];
                      var tmp;
                      switch (key) {
                        case "byr" :
                            tmp = /* Byr */0;
                            break;
                        case "cid" :
                            tmp = /* Cid */7;
                            break;
                        case "ecl" :
                            tmp = /* Ecl */5;
                            break;
                        case "eyr" :
                            tmp = /* Eyr */2;
                            break;
                        case "hcl" :
                            tmp = /* Hcl */4;
                            break;
                        case "hgt" :
                            tmp = /* Hgt */3;
                            break;
                        case "iyr" :
                            tmp = /* Iyr */1;
                            break;
                        case "pid" :
                            tmp = /* Pid */6;
                            break;
                        default:
                          tmp = Js_exn.raiseError("error");
                      }
                      return [
                              tmp,
                              value
                            ];
                    }));
      }));

var validKeys = [
  /* Byr */0,
  /* Iyr */1,
  /* Eyr */2,
  /* Hgt */3,
  /* Hcl */4,
  /* Ecl */5,
  /* Pid */6
];

console.log(Belt_Array.keep(Belt_Array.map(inputList, (function (item) {
                console.log(item);
                return Belt_Array.map(item, (function (param) {
                              return param[0];
                            }));
              })), (function (keyArray) {
            return Belt_Array.every(validKeys, (function (item) {
                          return keyArray.includes(item);
                        }));
          })).length);

exports.input = input;
exports.inputList = inputList;
exports.validKeys = validKeys;
/* input Not a pure module */
